

# 밀도 기반 군집화(DBSCAN)의 이해와 사용 방안의 고찰

**서울 기계공학부 김도윤**  
**서울 기계공학부 박준우**  
**서울 신소재공학부 이주연**  
**서울 기계공학부 이준범**

---

##  Part 1. 도입 

### 왜 군집화가 필요한가?
데이터 속에서 ‘비슷한 것끼리 묶기’는 인공지능과 데이터 분석의 핵심 과제입니다.

예시:
- 고객을 구매 패턴별로 분류  
- 지도에서 위치 기반 이벤트 군집 찾기  
- 의료 데이터에서 질병 발생 지역 파악  

### K-means의 한계
K-means는 다음 문제점이 존재합니다:

1. 클러스터 개수 k를 미리 지정해야 함  
2. 구형(spherical) 클러스터만 감지  
3. 이상치(outlier)를 강제로 군집에 포함  
4. 복잡·비선형 구조 군집 탐지 불가  

이 한계를 해결하기 위해 등장한 것이 밀도 기반 군집화(DBSCAN)이다.

---

##  Part 2. 핵심 개념 

### DBSCAN이란?
DBSCAN(Density-Based Spatial Clustering of Applications with Noise)은  
데이터의 "밀도 차이"를 기반으로 클러스터를 찾는 알고리즘입니다.

### 핵심 용어
| 용어 | 의미 |
|------|------|
| **Epsilon (ε)** | 이웃으로 간주하는 거리 반경 |
| **MinPts** | Core Point가 되기 위한 최소 이웃 수 |
| **Core Point** | ε 내 이웃 ≥ MinPts |
| **Border Point** | Core에 연결되지만 자신은 Core가 아님 |
| **Noise Point** | 어느 군집에도 속하지 않는 점 |

### 알고리즘 작동 원리
1. 임의 포인트 P 선택  
2. ε 반경 내 이웃 개수 확인  
3. 이웃 ≥ MinPts → Core Point  
4. Core Point로부터 연결된 점 확장  
5. 조건 미달 시 Border 또는 Noise  
6. 전체 데이터 처리 시까지 반복  

---

##  Part 3. 역사와 발전 
- 1996년 Ester, Kriegel, Sander, Xu가 DBSCAN 발표  
- 이후 OPTICS, HDBSCAN, DENCLUE로 발전  
- 고정밀 위치 데이터, 이상치 분리 필요성 증가로 활용 급증  

---

##  Part 4. 실제 응용 사례 

### 1. 도시 교통 데이터 분석
- GPS 데이터 → 혼잡 지역 자동 탐지  
- 신규 교통 노선 후보 발굴  

### 2. 금융 사기 탐지
- 이상치 거래 자동 분리  
- 정상 패턴과 다른 거래 탐지  

### 3. 반도체 결함 분석
- 웨이퍼 결함 위치 군집 → 공정 이상 조기 발견  

### 4. 감염병 확산 분석
- 환자 위치 기반 핫스팟 자동 탐색  

### 5. 부동산 가격 분석
- 유사 가격대 지역 분류  
- 이상거래 탐지  

---

##  Part 5. 실습 가이드
### Python DBSCAN 구현 예시

---

##  Part 6. 사용 방안 고찰

### 버스·지하철 승하차 데이터를 활용한 도시 핫플레이스 탐구

DBSCAN은 공간 기반 데이터를 다루는 데 특히 강력하기 때문에, 대중교통 승하차 데이터 분석에 매우 효과적으로 활용될 수 있다.  
버스 정류장·지하철역 승하차량은 시·공간적 밀도 변화가 뚜렷하게 나타나므로, DBSCAN의 ‘밀도 기반 군집화’ 속성과 직접적으로 연결된다.
이러한 특성은 교통 혼잡의 분석에 사용되지만 관점을 바꾸어 교통량이 집중되는 곳을 핫플레이스라 지정하고 요즘 트렌드와 유행을 지리적으로 알아차릴 수 있다.

---

###  1. 데이터 선정

- **버스 승·하차 데이터**  
  - 정류장 코드, 좌표(위·경도), 시간대별 승·하차 인원  
- **지하철 승·하차 데이터**  
  - 역 ID, 위치 정보, 출입구 단위 승·하차량  

이 데이터를 활용하면 다음 단계로 군집 구조를 만들 수 있다.

---

###  2. DBSCAN 적용 방식

핵심 아이디어는 특정 시간대·특정 지역에서 승하차 인원이 과밀하게 형성된 지점을 군집(Hotplace)으로 파악하는 것이다.

1. 모든 버스 정류장·지하철역을 하나의 데이터셋으로 통합  
2. 각 포인트에 다음과 같은 특징(feature)을 부여  
   - 공간 정보: (위도, 경도)  
   - 시간 가중 특징: 특정 시간대의 승차량 또는 하차량  
   - 평일/주말 구분, 출퇴근 시간대 인자 추가 가능  
3. DBSCAN으로 군집화  
   - 군집 = 특정 시간대에 사람들이 몰리는 ‘핫플레이스’
   - Noise = 비정상적으로 튀는 값 → 특별 이벤트 혹은 이상 패턴

---

###  3. 기대되는 분석 결과

#### **① 시간대별 도시 핫플레이스 탐색**
- 오전 7–9시 → 출근 중심지(대기업 밀집 구역, 지하철 환승역)  
- 오후 6–8시 → 퇴근·저녁 시간 상권  
- 주말 오후 → 쇼핑몰, 공원, 전시회 주변  
- 심야 시간대 → 유흥 밀집 거리  

DBSCAN은 군집 수를 미리 정하지 않기 때문에  
**자연스럽게 드러나는 진짜 도시의 흐름(people flow)**을 파악할 수 있다.

---

#### **② 지역 정책 설계에 활용**
- 승·하차 과밀 지역 → 버스 노선 재조정, 지하철 증편  
- 특정 군집이 갑자기 팽창 → 이벤트·행사 감지  
- 외곽 지역에 작은 군집 발생 → 신규 거점 개발 후보 탐지  

---

#### **③ 관광·소비 트렌드 파악**
- ‘SNS 인기 지역’, ‘맛집 거리’, ‘유흥가’ 등이  
  **실제 이동 데이터 기반으로 검증된 핫플레이스**로 확인  
- 계절·기온·날씨에 따라 군집 분포가 어떻게 이동하는지도 분석 가능  

---

#### **④ 안전·방범 활용**
- 심야 시간대 군집 감소 지역 → 방범 취약 지역  
- 군집이 특정 골목에 집중 → CCTV 필요 구역  

---

###  4. 실제 흐름 예시 (가상의 시나리오)

- 오전 8시: 강남역·여의도역·시청역 주변 군집 폭발 → 직장 중심  
- 오후 2시: 홍대·성수·잠실 롯데월드타워 군집 증가 → 관광/여가  
- 오후 8시: 건대입구·홍대입구역 주변 군집 최대 → 저녁 식사 중심  
- 심야 1시: 이태원·홍대 일부 골목만 군집 유지 → 야간 상권  

이처럼 시간에 따라 ‘핫플레이스의 이동’을 시각적으로 추적할 수 있다.

---

###  5. 결론: DBSCAN의 강점과 활용 가치

버스·지하철 승하차 데이터는 도시의 실제 움직임을 가장 잘 보여주는 데이터 중 하나다.  
DBSCAN을 적용하면,

- 미리 군집 수를 정할 필요 없고  
- 이상치(Noise)를 자연스럽게 분리하고  
- 복잡하고 비정형적인 공간 패턴을 그대로 반영할 수 있어  

**도시 핫플레이스 탐색, 교통 정책 설계, 상권 분석, 안전 시스템 구축** 등 다양한 분야에 직접 활용 가능하다.

---



```python
from sklearn.cluster import DBSCAN
import numpy as np

X = np.array([[1, 2], [2, 2], [2, 3], [8, 7], [8, 8], [25, 80]])
dbscan = DBSCAN(eps=3, min_samples=2)
labels = dbscan.fit_predict(X)

print(labels)
